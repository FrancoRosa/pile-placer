{"version":3,"sources":["js/model.js","js/api.js","components/FileInput.jsx","components/NumberInput.jsx","js/helpers.js","assets/epsg_codes.pdf","assets/marooka-size.png","assets/marooka-side.png","components/Config.jsx","assets/audio/distance/1.mp3","assets/audio/distance/2.mp3","assets/audio/distance/3.mp3","assets/audio/distance/4.mp3","assets/audio/distance/5.mp3","assets/audio/distance/6.mp3","assets/audio/distance/7.mp3","assets/audio/distance/8.mp3","assets/audio/distance/9.mp3","assets/audio/distance/10.mp3","assets/audio/colors/black.mp3","assets/audio/colors/blue.mp3","assets/audio/colors/brown.mp3","assets/audio/colors/darkblue.mp3","assets/audio/colors/lightblue.mp3","assets/audio/colors/lightgreen.mp3","assets/audio/colors/orange.mp3","assets/audio/colors/pink.mp3","assets/audio/colors/purple.mp3","assets/audio/colors/red.mp3","assets/audio/colors/white.mp3","assets/audio/colors/yellow.mp3","assets/audio/colors/green.mp3","assets/audio/colors/purplewhite.mp3","assets/audio/colors/brownwhite.mp3","assets/audio/other/left_bay.mp3","assets/audio/other/right_bay.mp3","assets/audio/other/next_pile.mp3","js/audio.js","assets/marooka-top.bmp","components/UserMap.jsx","components/NextPile.jsx","components/PileSummary.jsx","components/Home.jsx","components/Tab.jsx","components/Tabs.jsx","components/NavDebug.jsx","components/App.jsx","index.js"],"names":["nextPiles","distance","pile_id","setNextPiles","action","state","clearPile","index","tempPiles","waypoints","setWaypoints","placeWaypoint","id","map","waypoint","placed","unplaceWaypoint","selectedColor","setSelectedColor","color","center","heading","lat","lng","truck","setCenter","host","socket","io","connect","setLatLng","location","a","console","log","url","axios","post","response","data","setHeading","setConfig","config","setRefWaypoint","getWaypoints","get","uploadFile","file","epsg","formData","FormData","append","headers","FileInput","useState","path","setPath","name","setName","fileStatus","setFileStatus","history","useHistory","useEffect","document","querySelector","addEventListener","e","localPath","target","files","localName","className","type","accept","icon","faUpload","onClick","then","res","setTimeout","push","catch","message","rows","NumberInput","label","value","placeholder","changeHandler","step","onChange","useLocalStorage","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","sortByColor","byColor","forEach","trim","sortByColorPlaced","colors","black","blue","brown","darkblue","green","lightblue","lightgreen","orange","pink","purple","red","white","yellow","colorsFill","Config","localconfig","setLocalConfig","truckLen","setTruckLen","truckWid","setTruckWid","truckHei","setTruckHei","antennaX","setAntennaX","antennaY","setAntennaY","bay1","setBay1","bay2","setBay2","setEpsg","feedback","setFeedback","href","epsgCodes","faFileAlt","faSearch","src","marooka","marookaSide","otherSounds","Audio","one","two","three","four","five","six","seven","eight","nine","ten","leftBay","rightBay","nextPile","colorSounds","purplewhite","brownwhite","playOther","sound","play","playColor","mapboxgl","workerClass","require","default","INITIAL_VIEW_STATE","longitude","latitude","zoom","maxZoom","pitch","bearing","UserMap","useStoreState","useStoreActions","actions","viewState","setViewState","autoCenter","setAutoCenter","setTruck","setLasers","setTruckBundle","setVerticalLine","setHorizontalLine","bays","setBays","socketListener","on","msg","parsedMsg","parseFloat","selected","length","off","getNextPiles","nearestPiles","distanceBay1","distanceBay2","closestBay1","closestBay2","closestDistanceBay1","closestDistanceBay2","point","getNearestPiles","timeOffset","leftColor","filter","w","rightColor","Object","keys","includes","initialViewState","controller","getTooltip","object","mapboxApiAccessToken","lineWidthMaxPixels","lineWidthMinPixels","getRadius","d","getPosition","getColor","getFillColor","getLineColor","filled","stroked","pickable","opacity","bounds","image","coordinates","height","contour","wireframe","extruded","getPolygon","getLineWidth","getElevation","toFixed","disabled","NextPile","progressValue","setProgressValue","progressColor","setProgressColor","x","y","faFlag","class","max","PileSummary","pileColors","setPileColors","pilesPlaced","setPilesPlaced","faFlagCheckered","style","faLocationArrow","transform","rotate","Home","Tab","active","useLocation","pathname","toLowerCase","to","Tabs","faMapMarked","faTools","faBug","GoogleApiWrapper","apiKey","google","course","setCourse","markerLatLng","setMarkerLatLng","mapProps","clickEvent","latLng","initialCenter","position","radius","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","min","onInput","sliderValue","store","createStore","model","App","exact","from","component","NavDebug","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a779af6a.chunk.js","sourcesContent":["import { action } from \"easy-peasy\";\n\nexport default {\n  nextPiles: [\n    { distance: null, pile_id: null },\n    { distance: null, pile_id: null },\n  ],\n  setNextPiles: action((state, nextPiles) => {\n    state.nextPiles = [...nextPiles];\n  }),\n\n  clearPile: action((state, index) => {\n    let tempPiles = [...state.nextPiles];\n    tempPiles[index] = {};\n    state.nextPiles = tempPiles;\n  }),\n\n  waypoints: [],\n  setWaypoints: action((state, waypoints) => {\n    state.waypoints = [...waypoints];\n  }),\n  placeWaypoint: action((state, id) => {\n    state.waypoints = state.waypoints.map((waypoint) => {\n      return waypoint.pile_id == id ? { ...waypoint, placed: true } : waypoint;\n    });\n  }),\n  unplaceWaypoint: action((state, id) => {\n    state.waypoints = state.waypoints.map((waypoint) => {\n      return waypoint.pile_id == id ? { ...waypoint, placed: false } : waypoint;\n    });\n  }),\n\n  selectedColor: \"\",\n  setSelectedColor: action((state, color) => {\n    state.selectedColor = color;\n  }),\n\n  center: {\n    heading: 0,\n    lat: 0,\n    lng: 0,\n    truck: [\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n      [0, 0],\n    ],\n  },\n  setCenter: action((state, center) => {\n    state.center = center;\n  }),\n};\n","import axios from \"axios\";\nimport io from \"socket.io-client\";\n\n// const host = \"raspberrypi.local:9999\";\nconst host = \"localhost:9999\";\n\nexport const socket = io.connect(`http://${host}`);\n\nexport const setLatLng = async (location) => {\n  console.log(\"... setting lat lng\");\n  const url = `http://${host}/api/location`;\n  const response = await axios.post(url, location);\n  return response.data;\n};\n\nexport const setHeading = async (heading) => {\n  console.log(\"... setting heading\");\n  const url = `http://${host}/api/heading`;\n  const response = await axios.post(url, heading);\n  return response.data;\n};\n\nexport const setConfig = async (config) => {\n  console.log(\"... setting config\");\n  const url = `http://${host}/api/config`;\n  const response = await axios.post(url, config);\n  return response.data;\n};\n\nexport const setRefBay = async (bay) => {\n  console.log(\"... setting reference bay\");\n  const url = `http://${host}/api/bay`;\n  const response = await axios.post(url, bay);\n  return response.data;\n};\n\nexport const setRefWaypoint = async (waypoint) => {\n  console.log(\"... setting waypoint\");\n  const url = `http://${host}/api/waypoint`;\n  const response = await axios.post(url, waypoint);\n  return response.data;\n};\n\nexport const getLocation = async () => {\n  console.log(\"... getting location and heading\");\n  const url = `http://${host}/api/status`;\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport const getWaypoints = async () => {\n  console.log(\"... getting waypoints\");\n  const url = `http://${host}/api/waypoints`;\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport const uploadFile = async (file, epsg) => {\n  console.log(\"... uploading file\");\n  const url = `http://${host}/api/file`;\n  let formData = new FormData();\n  formData.append(\"file\", file);\n  formData.append(\"code\", epsg);\n  const response = await axios.post(url, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    },\n  });\n  return response.data;\n};\n","import { faUpload } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { uploadFile } from '../js/api';\n\nconst FileInput = () => {\n  const [path, setPath] = useState('');\n  const [name, setName] = useState('Nothing selected yet');\n  const [fileStatus, setFileStatus] = useState({})\n  const history = useHistory()\n\n  useEffect(()=>{\n    const handleFiles = e => {\n      let localPath = e.target.files[0];\n      let localName = e.target.files[0].name\n      setPath(localPath)\n      setName(localName)\n    }\n\n    const inputElement = document.querySelector(\".file-input\");\n    inputElement.addEventListener(\"change\", handleFiles, false);\n  },[])\n\n  const handleFiles = (file) => {\n    uploadFile(file)\n      .then(res => {\n        setFileStatus(res)\n        setTimeout(() => {\n          history.push('/map')\n        }, 1000);\n      })\n      .catch(() => setFileStatus({ message: false }))\n  }\n\n  return (\n    <div className=\"columns\">\n      <div className=\"column file has-name\">\n        <label className=\"file-label\">\n          <input className=\"file-input\" type=\"file\" accept=\".csv, .xlsx\"/>\n          <span className=\"file-cta\">\n            <span className=\"file-icon\">\n            <FontAwesomeIcon icon={faUpload} />\n            </span>\n            <span className=\"file-label\">\n              Choose a file ...\n            </span>\n          </span>\n          <span className=\"file-name\">\n            {name}\n          </span>\n        </label>\n      </div>\n      <div className=\"column\">\n        { path ? \n          <div className=\"is-flex is-justify-content-center\">\n            <button \n              className=\"button is-outlined is-success\" \n              onClick={() => handleFiles(path)}>Upload\n            </button>\n          </div> :\n          ''\n        }\n      </div>\n      <div className=\"column\">\n        { fileStatus.message ?\n          <div className=\"is-flex is-align-content-center is-flex-direction-column\">\n            <p className={fileStatus.message ? 'has-text-success' : 'has-text-fail'}>\n              {fileStatus.message ? 'Success' : 'Fail'}\n            </p>\n            <p>\n              Waypoints: {fileStatus.rows}\n            </p>\n          </div> : \n          ''\n        }\n      </div>\n    </div>\n  )\n};\n\nexport default FileInput;\n","const NumberInput = ({label, value, placeholder, changeHandler}) => {\n  return(\n    <div className=\"field column\">\n      <label className=\"label\">{label}</label>\n      <p className=\"control\">\n        <input className=\"input is-medium\" type=\"number\" step={0.1}\n          placeholder={placeholder}\n          onChange={e => changeHandler(e.target.value)}\n          value={value}\n        />\n      </p>\n    </div>\n  );\n};\n\nexport default NumberInput","import { useState } from \"react\";\n\nexport const useLocalStorage = (key, initialValue) => {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n};\n\nexport const sortByColor = (waypoints) => {\n  const byColor = {};\n  waypoints.forEach((waypoint) => {\n    if (byColor[waypoint.color?.trim()]) byColor[waypoint.color?.trim()] += 1;\n    else byColor[waypoint.color?.trim()] = 1;\n  });\n  return byColor;\n};\n\nexport const sortByColorPlaced = (waypoints) => {\n  const byColor = {};\n  waypoints.forEach((waypoint) => {\n    if (waypoint.placed) {\n      if (byColor[waypoint.color?.trim()]) byColor[waypoint.color?.trim()] += 1;\n      else byColor[waypoint.color?.trim()] = 1;\n    }\n  });\n  return byColor;\n};\n\nexport const colors = {\n  black: [0, 0, 0],\n  blue: [0, 0, 255],\n  brown: [165, 42, 42],\n  darkblue: [0, 0, 139],\n  green: [0, 255, 0],\n  lightblue: [135, 206, 235],\n  lightgreen: [144, 238, 144],\n  orange: [255, 165, 0],\n  pink: [255, 105, 180],\n  purple: [128, 0, 128],\n  red: [255, 0, 0],\n  white: [255, 255, 255],\n  yellow: [255, 255, 0],\n};\n\nexport const colorsFill = {\n  black: [0, 0, 0, 128],\n  blue: [0, 0, 255, 128],\n  brown: [165, 42, 42, 128],\n  darkblue: [0, 0, 139, 128],\n  green: [0, 255, 0, 128],\n  lightblue: [135, 206, 235, 128],\n  lightgreen: [144, 238, 144, 128],\n  orange: [255, 165, 0, 128],\n  pink: [255, 105, 180, 128],\n  purple: [128, 0, 128, 128],\n  red: [255, 0, 0, 128],\n  white: [255, 255, 255, 128],\n  yellow: [255, 255, 0, 128],\n};\n","export default __webpack_public_path__ + \"static/media/epsg_codes.c38b8103.pdf\";","export default __webpack_public_path__ + \"static/media/marooka-size.51b49781.png\";","export default __webpack_public_path__ + \"static/media/marooka-side.6ce15895.png\";","import FileInput from \"./FileInput\";\nimport NumberInput from \"./NumberInput\";\nimport { useState } from \"react\";\nimport { setConfig } from \"../js/api\";\nimport { useLocalStorage } from \"../js/helpers\";\nimport epsgCodes from \"../assets/epsg_codes.pdf\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFileAlt, faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport marooka from \"../assets/marooka-size.png\";\nimport marookaSide from \"../assets/marooka-side.png\";\n\nconst Config = () => {\n  const [localconfig, setLocalConfig] = useLocalStorage(\"config\", {});\n  const [truckLen, setTruckLen] = useState(localconfig.truckLen);\n  const [truckWid, setTruckWid] = useState(localconfig.truckWid);\n  const [truckHei, setTruckHei] = useState(localconfig.truckHei);\n  const [antennaX, setAntennaX] = useState(localconfig.antennaX);\n  const [antennaY, setAntennaY] = useState(localconfig.antennaY);\n  const [bay1, setBay1] = useState(localconfig.bay1);\n  const [bay2, setBay2] = useState(localconfig.bay2);\n  const [epsg, setEpsg] = useState(localconfig.epsg);\n  const [feedback, setFeedback] = useState(\"\");\n\n  const uploadConfig = () => {\n    setLocalConfig({\n      truckLen,\n      truckWid,\n      truckHei,\n      antennaX,\n      antennaY,\n      bay1,\n      bay2,\n      epsg,\n    });\n    setConfig({\n      truckLen,\n      truckWid,\n      truckHei,\n      antennaX,\n      antennaY,\n      bay1,\n      bay2,\n      epsg,\n    })\n      .then(() => setFeedback(\"Success\"))\n      .catch(() => setFeedback(\"Fail\"));\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"columns\">\n        <div className=\"column\">\n          <div className=\"columns\">\n            <NumberInput\n              label=\"Truck length\"\n              value={truckLen}\n              placeholder=\"E.g: 5\"\n              changeHandler={setTruckLen}\n            />\n            <NumberInput\n              label=\"Truck width\"\n              value={truckWid}\n              placeholder=\"E.g: 5\"\n              changeHandler={setTruckWid}\n            />\n            <NumberInput\n              label=\"Truck height\"\n              value={truckHei}\n              placeholder=\"E.g: 5\"\n              changeHandler={setTruckHei}\n            />\n          </div>\n          <div className=\"columns\">\n            <NumberInput\n              label=\"Antenna from left\"\n              value={antennaX}\n              placeholder=\"E.g: 5\"\n              changeHandler={setAntennaX}\n            />\n            <NumberInput\n              label=\"Antenna from truck head\"\n              value={antennaY}\n              placeholder=\"E.g: 5\"\n              changeHandler={setAntennaY}\n            />\n          </div>\n          <div className=\"columns\">\n            <NumberInput\n              label=\"Bay 1 from truck head\"\n              value={bay1}\n              placeholder=\"E.g: 5\"\n              changeHandler={setBay1}\n            />\n            <NumberInput\n              label=\"Bay 2 from truck head\"\n              value={bay2}\n              placeholder=\"E.g: 5\"\n              changeHandler={setBay2}\n            />\n          </div>\n          <div className=\"columns\">\n            <NumberInput\n              label=\"EPSG code\"\n              value={epsg}\n              placeholder=\"E.g: 6588\"\n              changeHandler={setEpsg}\n            />\n            <div className=\"column is-flex-direction-column is-flex is-flex-centered\">\n              <p className=\"heading has-text-link\">EPSG Reference</p>\n              <a\n                href={epsgCodes}\n                target=\"blank\"\n                className=\"has-text-white title is-2\"\n              >\n                <FontAwesomeIcon icon={faFileAlt} />\n              </a>\n            </div>\n            <div className=\"column is-flex-direction-column is-flex is-flex-centered\">\n              <p className=\"heading has-text-link\">EPSG Browser</p>\n              <a\n                href=\"https://epsg.io/\"\n                target=\"blank\"\n                className=\"has-text-white title is-2\"\n              >\n                <FontAwesomeIcon icon={faSearch} />\n              </a>\n            </div>\n            <div className=\"column is-flex is-justify-content-center is-align-content-center\">\n              <button className=\"button ml-2\" onClick={uploadConfig}>\n                Save\n              </button>\n              <p\n                className={`success ml-2 ${\n                  feedback == \"Success\" ? \"has-text-success\" : \"has-text-danger\"\n                }`}\n              >\n                {feedback}\n              </p>\n            </div>\n          </div>\n          <hr />\n          <FileInput />\n        </div>\n\n        <div className=\"column is-centered has-text-centered\">\n          <img src={marooka} />\n          <img src={marookaSide} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Config;\n","export default __webpack_public_path__ + \"static/media/1.2999e734.mp3\";","export default __webpack_public_path__ + \"static/media/2.c90484f3.mp3\";","export default __webpack_public_path__ + \"static/media/3.451a053d.mp3\";","export default __webpack_public_path__ + \"static/media/4.3d33a969.mp3\";","export default __webpack_public_path__ + \"static/media/5.0b9156e3.mp3\";","export default __webpack_public_path__ + \"static/media/6.52edbbb5.mp3\";","export default __webpack_public_path__ + \"static/media/7.b473eb3a.mp3\";","export default __webpack_public_path__ + \"static/media/8.55fb2017.mp3\";","export default __webpack_public_path__ + \"static/media/9.308dc1bf.mp3\";","export default __webpack_public_path__ + \"static/media/10.1fbcf1e7.mp3\";","export default __webpack_public_path__ + \"static/media/black.67345e6d.mp3\";","export default __webpack_public_path__ + \"static/media/blue.603a17d2.mp3\";","export default __webpack_public_path__ + \"static/media/brown.aa74bbbb.mp3\";","export default __webpack_public_path__ + \"static/media/darkblue.587d78fd.mp3\";","export default __webpack_public_path__ + \"static/media/lightblue.9a9ee83a.mp3\";","export default __webpack_public_path__ + \"static/media/lightgreen.d7c408fe.mp3\";","export default __webpack_public_path__ + \"static/media/orange.42e333b5.mp3\";","export default __webpack_public_path__ + \"static/media/pink.f914d206.mp3\";","export default __webpack_public_path__ + \"static/media/purple.8e39b00d.mp3\";","export default __webpack_public_path__ + \"static/media/red.d598f0dc.mp3\";","export default __webpack_public_path__ + \"static/media/white.a09c2726.mp3\";","export default __webpack_public_path__ + \"static/media/yellow.1d5be675.mp3\";","export default __webpack_public_path__ + \"static/media/green.8c2c03a6.mp3\";","export default __webpack_public_path__ + \"static/media/purplewhite.08127fb1.mp3\";","export default __webpack_public_path__ + \"static/media/brownwhite.f5c411c7.mp3\";","export default __webpack_public_path__ + \"static/media/left_bay.ba74ee7d.mp3\";","export default __webpack_public_path__ + \"static/media/right_bay.0fce9298.mp3\";","export default __webpack_public_path__ + \"static/media/next_pile.aa5d59d6.mp3\";","import one from \"../assets/audio/distance/1.mp3\";\nimport two from \"../assets/audio/distance/2.mp3\";\nimport three from \"../assets/audio/distance/3.mp3\";\nimport four from \"../assets/audio/distance/4.mp3\";\nimport five from \"../assets/audio/distance/5.mp3\";\nimport six from \"../assets/audio/distance/6.mp3\";\nimport seven from \"../assets/audio/distance/7.mp3\";\nimport eight from \"../assets/audio/distance/8.mp3\";\nimport nine from \"../assets/audio/distance/9.mp3\";\nimport ten from \"../assets/audio/distance/10.mp3\";\n\nimport black from \"../assets/audio/colors/black.mp3\";\nimport blue from \"../assets/audio/colors/blue.mp3\";\nimport brown from \"../assets/audio/colors/brown.mp3\";\nimport darkblue from \"../assets/audio/colors/darkblue.mp3\";\nimport lightblue from \"../assets/audio/colors/lightblue.mp3\";\nimport lightgreen from \"../assets/audio/colors/lightgreen.mp3\";\nimport orange from \"../assets/audio/colors/orange.mp3\";\nimport pink from \"../assets/audio/colors/pink.mp3\";\nimport purple from \"../assets/audio/colors/purple.mp3\";\nimport red from \"../assets/audio/colors/red.mp3\";\nimport white from \"../assets/audio/colors/white.mp3\";\nimport yellow from \"../assets/audio/colors/yellow.mp3\";\nimport green from \"../assets/audio/colors/green.mp3\";\nimport purplewhite from \"../assets/audio/colors/purplewhite.mp3\";\nimport brownwhite from \"../assets/audio/colors/brownwhite.mp3\";\n\nimport leftBay from \"../assets/audio/other/left_bay.mp3\";\nimport rightBay from \"../assets/audio/other/right_bay.mp3\";\nimport nextPile from \"../assets/audio/other/next_pile.mp3\";\n\nconst distanceSounds = [\n  new Audio(one),\n  new Audio(two),\n  new Audio(three),\n  new Audio(four),\n  new Audio(five),\n  new Audio(six),\n  new Audio(seven),\n  new Audio(eight),\n  new Audio(nine),\n  new Audio(ten),\n];\n\nconst otherSounds = {\n  leftBay: new Audio(leftBay),\n  rightBay: new Audio(rightBay),\n  nextPile: new Audio(nextPile),\n};\n\nconst colorSounds = {\n  black: new Audio(black),\n  blue: new Audio(blue),\n  brown: new Audio(brown),\n  darkblue: new Audio(darkblue),\n  lightblue: new Audio(lightblue),\n  lightgreen: new Audio(lightgreen),\n  orange: new Audio(orange),\n  pink: new Audio(pink),\n  purple: new Audio(purple),\n  red: new Audio(red),\n  white: new Audio(white),\n  yellow: new Audio(yellow),\n  green: new Audio(green),\n  purplewhite: new Audio(purplewhite),\n  brownwhite: new Audio(brownwhite),\n};\n\nexport const playDistance = (distance) => {\n  const dist = parseInt(distance);\n  if (dist > 0 && dist < 11) {\n    distanceSounds[dist - 1].play();\n  }\n};\n\nexport const playOther = (sound) => {\n  if (otherSounds[sound]) otherSounds[sound].play();\n};\n\nexport const playColor = (color) => {\n  if (colorSounds[color]) colorSounds[color].play();\n};\n","export default __webpack_public_path__ + \"static/media/marooka-top.0316a837.bmp\";","import { useStoreActions, useStoreState } from \"easy-peasy\";\nimport DeckGL from \"@deck.gl/react\";\nimport { BitmapLayer, PolygonLayer, ScatterplotLayer } from \"@deck.gl/layers\";\nimport { StaticMap } from \"react-map-gl\";\nimport { useEffect, useState } from \"react\";\nimport { getWaypoints, setRefWaypoint, socket } from \"../js/api\";\nimport { useLocalStorage, colors, colorsFill } from \"../js/helpers\";\nimport { playColor, playOther } from \"../js/audio\";\nimport mapboxgl from \"mapbox-gl\";\nimport marooka from \"../assets/marooka-top.bmp\";\n\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass =\n  // eslint-disable-next-line import/no-webpack-loader-syntax\n  require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nconst MAPBOX_ACCESS_TOKEN =\n  \"pk.eyJ1Ijoia20xMTVmcmFuY28iLCJhIjoiY2t0eXQ3cHBhMGI3aTMxcG14dnN0OHJveSJ9.LWxkBiVPF9UfGWMI4sWakQ\";\n\nconst INITIAL_VIEW_STATE = {\n  longitude: -122.123801,\n  latitude: 37.893394,\n  zoom: 21,\n  maxZoom: 21,\n  pitch: 60,\n  bearing: 0,\n};\n\nconst UserMap = () => {\n  const center = useStoreState((state) => state.center);\n  const setCenter = useStoreActions((actions) => actions.setCenter);\n  const [viewState, setViewState] = useState(INITIAL_VIEW_STATE);\n  const [autoCenter, setAutoCenter] = useState(true);\n  const [truck, setTruck] = useState([\n    { lat: 0, lng: 0 },\n    { lat: 0, lng: 0 },\n    { lat: 0, lng: 0 },\n    { lat: 0, lng: 0 },\n  ]);\n  const [lasers, setLasers] = useState([]);\n  const [truckBundle, setTruckBundle] = useState([]);\n  const [verticalLine, setVerticalLine] = useState([]);\n  const [horizontalLine, setHorizontalLine] = useState([]);\n  const [bays, setBays] = useState([\n    { lat: 0, lng: 0 },\n    { lat: 0, lng: 0 },\n  ]);\n  const nextPiles = useStoreState((state) => state.nextPiles);\n  const setNextPiles = useStoreActions((actions) => actions.setNextPiles);\n  const waypoints = useStoreState((state) => state.waypoints);\n  const setWaypoints = useStoreActions((actions) => actions.setWaypoints);\n  const placeWaypoint = useStoreActions((actions) => actions.placeWaypoint);\n  const unplaceWaypoint = useStoreActions((actions) => actions.unplaceWaypoint);\n  const [initialCenter, setInitialCenter] = useLocalStorage(\"debugCenter\", {\n    lat: 0,\n    lng: 0,\n  });\n  const selectedColor = useStoreState((state) => state.selectedColor);\n\n  const socketListener = () => {\n    socket.on(\"message\", (msg) => {\n      const parsedMsg = JSON.parse(msg);\n      console.log(parsedMsg);\n\n      setCenter(parsedMsg);\n      setViewState({\n        ...viewState,\n        longitude: parseFloat(parsedMsg.lng),\n        latitude: parseFloat(parsedMsg.lat),\n        bearing: parseFloat(parsedMsg.heading),\n      });\n\n      setTruck([\n        { lat: parsedMsg.truck[0][0], lng: parsedMsg.truck[0][1] },\n        { lat: parsedMsg.truck[1][0], lng: parsedMsg.truck[1][1] },\n        { lat: parsedMsg.truck[2][0], lng: parsedMsg.truck[2][1] },\n        { lat: parsedMsg.truck[3][0], lng: parsedMsg.truck[3][1] },\n        { lat: parsedMsg.truck[0][0], lng: parsedMsg.truck[0][1] },\n      ]);\n\n      setBays([\n        { lat: parsedMsg.bays[0][0], lng: parsedMsg.bays[0][1] },\n        { lat: parsedMsg.bays[1][0], lng: parsedMsg.bays[1][1] },\n      ]);\n\n      setVerticalLine([\n        { lat: parsedMsg.truck[4][0], lng: parsedMsg.truck[4][1] },\n        { lat: parsedMsg.truck[5][0], lng: parsedMsg.truck[5][1] },\n      ]);\n\n      setHorizontalLine([\n        { lat: parsedMsg.truck[10][0], lng: parsedMsg.truck[10][1] },\n        { lat: parsedMsg.truck[11][0], lng: parsedMsg.truck[11][1] },\n      ]);\n\n      setTruckBundle([\n        { lat: parsedMsg.truck[6][0], lng: parsedMsg.truck[6][1] },\n        { lat: parsedMsg.truck[7][0], lng: parsedMsg.truck[7][1] },\n        { lat: parsedMsg.truck[8][0], lng: parsedMsg.truck[8][1] },\n        { lat: parsedMsg.truck[9][0], lng: parsedMsg.truck[9][1] },\n        { lat: parsedMsg.truck[6][0], lng: parsedMsg.truck[6][1] },\n      ]);\n\n      setLasers([\n        { lat: parsedMsg.truck[12][0], lng: parsedMsg.truck[12][1] },\n        { lat: parsedMsg.truck[13][0], lng: parsedMsg.truck[13][1] },\n      ]);\n    });\n  };\n\n  useEffect(() => {\n    getWaypoints().then((res) => {\n      setWaypoints(\n        res.waypoints.map((waypoint) => ({ ...waypoint, selected: true }))\n      );\n      if (res.waypoints.length > 0) {\n        setCenter({ ...center, ...res.waypoints[0] });\n        setViewState({\n          ...viewState,\n          latitude: res.waypoints[0].lat,\n          longitude: res.waypoints[0].lng,\n        });\n      }\n    });\n\n    socketListener();\n\n    return () => {\n      socket.off(\"message\");\n    };\n  }, []);\n\n  const getNearestPiles = (waypoints, bays) => {\n    let distanceBay1;\n    let distanceBay2;\n    let closestBay1;\n    let closestBay2;\n    let closestDistanceBay1 = 10000;\n    let closestDistanceBay2 = 10000;\n\n    waypoints.forEach((point) => {\n      if (\n        !point.placed &&\n        (selectedColor == point.color || selectedColor == \"\")\n      ) {\n        distanceBay1 =\n          (point.lat - bays[0].lat) ** 2 + (point.lng - bays[0].lng) ** 2;\n        distanceBay2 =\n          (point.lat - bays[1].lat) ** 2 + (point.lng - bays[1].lng) ** 2;\n        if (distanceBay1 < closestDistanceBay1) {\n          closestDistanceBay1 = distanceBay1;\n          closestBay1 = point;\n        }\n        if (distanceBay2 < closestDistanceBay2) {\n          closestDistanceBay2 = distanceBay2;\n          closestBay2 = point;\n        }\n      }\n    });\n\n    // The code below avoids repeating the same waypoint as next pile\n    if (closestBay1 == closestBay2) {\n      if (closestDistanceBay1 < closestDistanceBay2) {\n        closestBay2 = { lat: 0, lng: 0 };\n      } else {\n        closestBay1 = { lat: 0, lng: 0 };\n      }\n    }\n\n    return [closestBay1, closestBay2];\n  };\n\n  const getNextPiles = (waypoints, bays) => {\n    if (waypoints.length > 0) {\n      const nearestPiles = getNearestPiles(waypoints, bays);\n      setNextPiles(nearestPiles);\n      setRefWaypoint(nearestPiles);\n      console.log(\"... getting colors\");\n      let timeOffset = 0;\n      try {\n        let leftColor = waypoints\n          .filter((w) => w.pile_id == nearestPiles[0].pile_id)[0]\n          .color.trim();\n        playOther(\"leftBay\");\n        setTimeout(() => playColor(leftColor), 1000);\n        timeOffset = 2000;\n      } catch {\n        console.log(\"error left color\");\n      }\n      try {\n        let rightColor = waypoints\n          .filter((w) => w.pile_id == nearestPiles[1].pile_id)[0]\n          .color.trim();\n        setTimeout(() => playOther(\"rightBay\"), 0 + timeOffset);\n        setTimeout(() => playColor(rightColor), 1000 + timeOffset);\n      } catch {\n        console.log(\"error right color\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (Object.keys(center).includes(\"distance\")) {\n      let tempPiles = [...nextPiles];\n      tempPiles[0].distance = center.distance[0];\n      tempPiles[1].distance = center.distance[1];\n      setNextPiles(tempPiles);\n    }\n  }, [center]);\n\n  useEffect(() => {\n    if (autoCenter) {\n      socket.off(\"message\");\n      socketListener();\n    } else {\n      socket.off(\"message\");\n    }\n  }, [autoCenter]);\n\n  useEffect(() => {\n    setWaypoints(\n      waypoints.map((waypoint) => ({\n        ...waypoint,\n        selected: waypoint.color == selectedColor || selectedColor == \"\",\n      }))\n    );\n  }, [selectedColor]);\n\n  const handlePileClick = (d) => {\n    const pile_id = d.object.pile_id;\n    const placed = d.object.placed;\n    if (placed) unplaceWaypoint(pile_id);\n    else placeWaypoint(pile_id);\n  };\n\n  return (\n    <>\n      <div className=\"container map\">\n        <DeckGL\n          initialViewState={viewState}\n          controller={true}\n          getTooltip={({ object }) =>\n            object &&\n            `Code: ${object.pile_id}\\nColor: ${object.color}\\n${\n              object.placed ? \"Placed\" : \"Not Placed\"\n            }`\n          }\n        >\n          <StaticMap mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN} />\n\n          <ScatterplotLayer\n            lineWidthMaxPixels={3}\n            lineWidthMinPixels={2}\n            getRadius={(d) => (d.selected ? (d.placed ? 0.3 : 1) : 0.01)}\n            data={waypoints}\n            getPosition={(d) => [d.lng, d.lat]}\n            getColor={(d) => colors[d.color]}\n            getFillColor={(d) => colorsFill[d.color]}\n            getLineColor={(d) => colors[d.color]}\n            filled={true}\n            stroked={true}\n            pickable={true}\n            opacity={0.8}\n            onClick={handlePileClick}\n          />\n\n          <BitmapLayer\n            bounds={[\n              [truck[3].lng, truck[3].lat, 0],\n              [truck[0].lng, truck[0].lat, 0],\n              [truck[1].lng, truck[1].lat, 0],\n              [truck[2].lng, truck[2].lat, 0],\n            ]}\n            image={marooka}\n          />\n\n          <ScatterplotLayer\n            lineWidthMaxPixels={2}\n            lineWidthMinPixels={1}\n            getRadius={0.3}\n            data={[\n              // gps center\n              {\n                coordinates: [parseFloat(center.lng), parseFloat(center.lat)],\n                color: colors.black,\n                height: 10,\n              },\n              // laser positions\n              {\n                coordinates: [center.truck[12][1], center.truck[12][0]],\n                color: colors.green,\n                height: 10,\n              },\n              {\n                coordinates: [center.truck[13][1], center.truck[13][0]],\n                color: colors.green,\n                height: 10,\n              },\n              // Bays positions\n              {\n                coordinates: [bays[0].lng, bays[0].lat],\n                color: colors.red,\n                height: 0,\n              },\n              {\n                coordinates: [bays[1].lng, bays[1].lat],\n                color: colors.red,\n                height: 0,\n              },\n            ]}\n            getPosition={(d) => d.coordinates}\n            getColor={(d) => d.color}\n            filled={false}\n            stroked\n          />\n\n          <PolygonLayer\n            data={[\n              {\n                contour: [\n                  [truck[0].lng, truck[0].lat],\n                  [truck[1].lng, truck[1].lat],\n                  [truck[2].lng, truck[2].lat],\n                  [truck[3].lng, truck[3].lat],\n                ],\n              },\n            ]}\n            stroked\n            filled\n            wireframe\n            extruded\n            lineWidthMinPixels={1}\n            getPolygon={(d) => d.contour}\n            getFillColor={colorsFill.lightgreen}\n            getLineColor={colors.lightgreen}\n            getLineWidth={0.1}\n            getElevation={0.5}\n          />\n        </DeckGL>\n      </div>\n      <div className=\"columns mt-3 has-text-link \">\n        <div className=\"column is-flex is-flex-centered m-0 p-0\">\n          <p className=\"heading has-text-centered m-0 p-0 f-3\">\n            Lat: {parseFloat(center.lat).toFixed(7)}\n          </p>\n        </div>\n        <div className=\"column is-flex is-flex-centered m-0 p-0\">\n          <p className=\"heading has-text-centered m-0 p-0 f-3\">\n            Lng: {parseFloat(center.lng).toFixed(7)}\n          </p>\n        </div>\n        <div className=\"column is-flex is-flex-centered m-0 p-0\">\n          <p className=\"heading has-text-centered m-0 p-0 f-3\">\n            Hdg: {parseFloat(center.heading).toFixed(1)}॰\n          </p>\n        </div>\n        <div className=\"column is-flex is-flex-centered m-0 p-0\">\n          <button\n            className={`button is-outlined ml-2 mr-2 ${\n              autoCenter ? \"is-success\" : \"is-warning\"\n            }`}\n            onClick={() => setAutoCenter(!autoCenter)}\n          >\n            {autoCenter ? \"Auto center enabled\" : \"Auto center not enabled\"}\n          </button>\n          <button\n            className={`button is-outlined is-success ml-2 mr-2`}\n            onClick={() => getNextPiles(waypoints, bays)}\n            disabled={bays[0].lat == bays[1].lat && bays[0].lng == bays[1].lng}\n          >\n            Get nearest piles\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UserMap;\n","import { faFlag } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useStoreActions, useStoreState } from \"easy-peasy\"\nimport { useEffect, useState } from \"react\"\nimport { playColor, playOther } from \"../js/audio\"\n\nconst NextPile = ({index}) => {\n  const nextPiles = useStoreState(state => state.nextPiles)\n  const placeWaypoint = useStoreActions(actions => actions.placeWaypoint)\n  const clearPile = useStoreActions(actions => actions.clearPile)\n  const [progressValue, setProgressValue] = useState(0)\n  const [progressColor, setProgressColor] = useState('red')\n  const waypoint = nextPiles[index]\n\n  const handlePilePlacement = () => {\n    placeWaypoint(waypoint.pile_id)\n    clearPile(index)\n  }\n\n  useEffect(()=>{\n    if (waypoint.distance > 25) {\n      setProgressColor('is-danger')\n      setProgressValue(1)\n    }\n    if (waypoint.distance < 15) {\n      setProgressColor('is-warning')\n      setProgressValue(2)\n    }\n    if (waypoint.distance < 6) {\n      setProgressColor('is-success')\n      setProgressValue(3)\n    }\n  },[waypoint.distance])\n\n  return (\n    <div className=\"column\">\n        {waypoint.pile_id &&\n          <>\n            <div className=\"is-flex has-text-centered is-flex-direction-column is-align-content-center mb-4\">\n              <p className=\"heading title is-5\">Id: {waypoint.pile_id}</p>\n              <p className=\"heading f-4\">Lat {waypoint.lat?.toFixed(8)}</p>\n              <p className=\"heading f-4\">Lng {waypoint.lng?.toFixed(8)}</p>\n              <p className=\"heading f-4\">N {waypoint.x}</p>\n              <p className=\"heading f-4\">E {waypoint.y}</p>\n            </div>\n            <div className=\"flag-icon color_red\"\n              onClick={() => {\n                index == 0 ? playOther('leftBay') : playOther('rightBay')\n                setTimeout(() => {\n                  playColor(waypoint.color?.trim());\n                }, 1000);\n              }}>\n              <FontAwesomeIcon icon={faFlag} color={waypoint.color}/>\n            </div>\n            <p className=\"heading has-text-centered\">{waypoint.color}</p>\n            <p className=\"title is-3 has-text-centered mt-3 mb-4\"> {waypoint.distance?.toFixed(1)} ft </p>\n            <progress \n              class={`progress rotate ${progressColor}`} \n              max=\"3\" value={progressValue} /> \n            <div className=\"is-flex is-flex-centered\">\n              <button \n                onClick={handlePilePlacement}\n                className=\"button is-outlined is-success\">\n                  Place\n              </button>\n            </div>\n          </>\n        }\n    </div>      \n  )\n}\n\nexport default NextPile","import { faFlag, faFlagCheckered, faLocationArrow } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useStoreActions, useStoreState } from \"easy-peasy\";\nimport { useEffect, useState } from \"react\";\nimport { sortByColor, sortByColorPlaced } from \"../js/helpers\";\n\nconst PileSummary = () => {\n  const waypoints = useStoreState( state => state.waypoints)\n  const center = useStoreState( state => state.center)\n  const selectedColor = useStoreState( state => state.selectedColor)\n  const setSelectedColor = useStoreActions( actions => actions.setSelectedColor)\n  const [pileColors, setPileColors] = useState(sortByColor(waypoints))\n  const [pilesPlaced, setPilesPlaced] = useState(sortByColorPlaced(waypoints))\n  \n  useEffect(() => {\n    setPileColors(sortByColor(waypoints))\n    setPilesPlaced(sortByColorPlaced(waypoints))\n  },[waypoints])\n\n  return (\n    <>\n      <hr className=\"m-0 p-0 mb-4\"/>\n      <div className=\"columns\">\n        <div className=\"column is-flex is-flex-direction-column is-flex-centered\">\n          <FontAwesomeIcon\n            onClick={() => setSelectedColor('')} \n            icon={faFlagCheckered} className=\"is-size-3\" color={selectedColor}/>\n          <p className=\"heading has-text-centered has-text-link is-size-5 m-0 p-0\">\n            Placed\n          </p>\n          <p className=\"heading has-text-centered has-text-success is-size-5 m-0 p-0\">\n           {waypoints.filter(x => x.placed).length} / {waypoints.length}\n          </p>\n        </div>\n        <div className=\"column is-four-fifths\">\n          <div className=\"columns\">\n          {Object.keys(pileColors).map((color) => (\n            <div className=\"column has-text-centered m-0 p-0\" aria-label={color}>\n              <p className=\"is-size-7 m-0 p-0\">{pilesPlaced[color] ? pilesPlaced[color] : 0} / {pileColors[color]}</p>\n              <FontAwesomeIcon\n                icon={faFlag} onClick={() => setSelectedColor(color)}\n                color={color} className=\"is-size-3\"/>\n              <p>{(100*(pilesPlaced[color] ? pilesPlaced[color] : 0) / pileColors[color]).toFixed()} %</p>\n            </div>\n          ))}\n          </div>\n          <hr className=\"m-0 p-0\"/>\n          <p className=\"has-text-centered\" style={{color: selectedColor}}>\n            {selectedColor == '' ? 'No layer selected' : selectedColor}\n          </p>\n        </div>\n        <div className=\"column is-centered has-text-centered\">\n          <FontAwesomeIcon \n            icon={faLocationArrow}\n            transform={{rotate: center.heading - 45}} \n            className=\"has-text-white is-size-1\" />\n          <p className=\"is-size-4\">{center.heading}</p>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default PileSummary;","import UserMap from \"./UserMap\";\nimport NextPile from \"./NextPile\";\nimport { useStoreState } from \"easy-peasy\";\nimport { useEffect } from \"react\";\nimport PileSummary from \"./PileSummary\";\n// import { playColor, playDistance } from \"../js/audio\";\n\nconst Home = () => {\n  // const nextPiles = useStoreState(state => state.nextPiles)\n  \n  // useEffect(()=>{\n  //   if(nextPiles[0].distance) {\n  //     let minDistance = Math.min(nextPiles[0].distance, nextPiles[1].distance)\n  //     playDistance(minDistance)\n  //   }\n  // },[nextPiles])\n\n  return (\n    <div className=\"container is-fullwidth\">\n      <div className=\"columns p-0 m-0\">\n        <NextPile index={0} />\n        <div className=\"column is-three-fifths p-0 m-0\">\n          <UserMap />\n        </div>\n        <NextPile index={1} />\n      </div>\n      <PileSummary /> \n    </div>\n  );\n};\n\nexport default Home;","import { useLocation } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nconst Tab = ({ name, icon }) => {\n  const location = useLocation();\n  const active = location.pathname.includes(name.toLowerCase())\n\n  return (\n    <li className={ active ? \"is-active\" : \"\"}>\n      <Link to={`/${name.toLowerCase()}`} className=\"mr-4 ml-4\" >\n        <span className=\"icon is-small\">\n          <FontAwesomeIcon icon={icon} />\n        </span>\n        <span>{name}</span>\n      </Link>\n    </li>\n  )\n}\n\nexport default Tab;\n","import { faTools, faMapMarked, faBug } from \"@fortawesome/free-solid-svg-icons\";\nimport Tab from \"./Tab\";\n\nconst Tabs = () => {\n  return (\n    <div className=\"tabs is-centered m-0\">\n      <ul>\n        <Tab name=\"Map\" icon={faMapMarked} />\n        <Tab name=\"Config\" icon={faTools} />\n        <Tab name=\"Debug\" icon={faBug} />\n      </ul>\n    </div>\n  );\n};\n\nexport default Tabs;\n","// This component will send \"POST\" to set theoric current coordinates //\n// and heading info to change the main map behavior\nimport { Map, Marker, GoogleApiWrapper, Circle } from \"google-maps-react\";\nimport { useEffect, useState } from \"react\";\nimport { getWaypoints, setHeading, setLatLng } from \"../js/api\";\nimport { useLocalStorage } from \"../js/helpers\";\n\nconst NavDebug = ({ google }) => {\n  const [course, setCourse] = useState(0);\n  const [markerLatLng, setMarkerLatLng] = useLocalStorage(\"debugCenter\", {\n    lat: 0,\n    lng: 0,\n  });\n  const [waypoints, setWaypoints] = useState([]);\n\n  useEffect(() => {\n    getWaypoints().then((res) => {\n      setWaypoints(res.waypoints);\n      if (res.waypoints.length > 0) {\n        setMarkerLatLng({ ...res.waypoints[0] });\n      }\n    });\n  }, []);\n\n  const getMapCordinates = (mapProps, map, clickEvent) => {\n    let location = {\n      lat: clickEvent.latLng.lat().toFixed(5),\n      lng: clickEvent.latLng.lng().toFixed(5),\n    };\n    setMarkerLatLng(location);\n    setLatLng(location);\n    console.log(location);\n  };\n\n  const setCourseValue = (e) => {\n    const sliderValue = parseFloat(e.target.value).toFixed(1);\n    setHeading({ heading: sliderValue });\n    setCourse(sliderValue);\n  };\n\n  return (\n    <>\n      <div className=\"container map\">\n        <Map\n          google={google}\n          zoom={14}\n          onClick={getMapCordinates}\n          initialCenter={markerLatLng}\n        >\n          <Marker name={\"target\"} position={markerLatLng} />\n          {waypoints.map((waypoint) => (\n            <Circle\n              center={waypoint}\n              radius={0.5}\n              strokeColor={waypoint.color}\n              strokeOpacity={0.5}\n              strokeWeight={2}\n              fillColor={waypoint.color}\n              fillOpacity={0.5}\n            />\n          ))}\n        </Map>\n      </div>\n      <div className=\"container mt-4 pt-4\">\n        <div className=\"columns\">\n          <div className=\"column\">\n            <p className=\"ml-4\">\n              Coordinates: {markerLatLng.lat}, {markerLatLng.lng}\n            </p>\n            <p className=\"ml-4\">Heading: {course}° </p>\n          </div>\n          <div className=\"column\">\n            <p className=\"ml-4\">Set heading:</p>\n            <input\n              class=\"slider m-4\"\n              step={1}\n              min={0}\n              max={360}\n              value={course}\n              type=\"range\"\n              onInput={setCourseValue}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyBsgd5A9q-23gHy8tL6e5O0lct6JoD97xo\",\n})(NavDebug);\n","import { Switch, Redirect, Route } from 'react-router-dom';\nimport { StoreProvider, createStore } from 'easy-peasy';\nimport model from '../js/model'\n\nimport Config from './Config';\nimport Home from './Home';\nimport Tabs from './Tabs';\nimport NavDebug from './NavDebug';\n\nconst store = createStore(model)\n\nconst App = () => {\n  return (\n    <div className=\"container is-fullwidth\">\n      <Tabs />\n      <StoreProvider store={store}>\n        <Switch>\n          <Redirect exact from=\"/\" to=\"/map\" />\n          <Route path=\"/config\" component={Config} />\n          <Route path=\"/map\" component={Home} />\n          <Route path=\"/debug\" component={NavDebug} />\n        </Switch>\n      </StoreProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './css/index.css';\nimport './css/style.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}